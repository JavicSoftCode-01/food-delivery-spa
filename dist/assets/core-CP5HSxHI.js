const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-DYn0CROG.js","assets/ui-DeEF8Jzz.js","assets/utils-OsXyF5Oc.js","assets/vendor-D67DkiDD.js","assets/clients--s4HSohR.js","assets/orders-CmWoKVYI.js","assets/foods-BvQSgfVo.js","assets/settings-C1Outy2K.js","assets/foods-DoGlyf2F.js"])))=>i.map(i=>d[i]);
var Q=Object.defineProperty,J=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var M=(e,t,r)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))Z.call(t,r)&&M(e,r,t[r]);if(R)for(var r of R(t))ee.call(t,r)&&M(e,r,t[r]);return e},D=(e,t)=>J(e,X(t));var l=(e,t,r)=>new Promise((i,o)=>{var n=s=>{try{c(r.next(s))}catch(u){o(u)}},a=s=>{try{c(r.throw(s))}catch(u){o(u)}},c=s=>s.done?i(s.value):Promise.resolve(s.value).then(n,a);c((r=r.apply(e,t)).next())});import{_ as h}from"./vendor-D67DkiDD.js";import{U as d}from"./ui-DeEF8Jzz.js";const S=new Map,z={dashboard:()=>h(()=>import("./dashboard-DYn0CROG.js"),__vite__mapDeps([0,1,2,3])),clients:()=>h(()=>import("./clients--s4HSohR.js"),__vite__mapDeps([4,5,1,2,3])),foods:()=>h(()=>import("./foods-BvQSgfVo.js"),__vite__mapDeps([6,2,3,1])),settings:()=>h(()=>import("./settings-C1Outy2K.js"),__vite__mapDeps([7,1,3]))},te={orderForm:()=>h(()=>import("./orders-CmWoKVYI.js").then(e=>e.o),__vite__mapDeps([5,1,2])),foodForm:()=>h(()=>import("./foods-DoGlyf2F.js").then(e=>e.f),__vite__mapDeps([8,1,2])),salesHistory:()=>h(()=>import("./foods-DoGlyf2F.js").then(e=>e.s),__vite__mapDeps([8,1,2])),orderDetails:()=>h(()=>import("./orders-CmWoKVYI.js").then(e=>e.a),__vite__mapDeps([5,1,2])),callModal:()=>h(()=>import("./orders-CmWoKVYI.js").then(e=>e.c),__vite__mapDeps([5,1,2])),deliveryToggle:()=>h(()=>import("./orders-CmWoKVYI.js").then(e=>e.d),__vite__mapDeps([5,1,2]))};function re(e){return l(this,null,function*(){try{if(S.has(e))return S.get(e);const t=yield z[e]();return S.set(e,t),t}catch(t){throw console.error(`Error cargando pantalla ${e}:`,t),t}})}function A(e){return l(this,null,function*(){try{if(S.has(e))return S.get(e);const t=yield te[e]();return S.set(e,t),t}catch(t){throw console.error(`Error cargando feature ${e}:`,t),t}})}function x(e){S.has(e)||z[e]().then(t=>{S.set(e,t)}).catch(t=>{console.warn(`Preload falló para ${e}:`,t)})}const g={screens:{dashboard:{strategy:"immediate",priority:10},foods:{strategy:"idle",priority:8},clients:{strategy:"idle",priority:7},settings:{strategy:"interaction",priority:5}},features:{orderForm:{strategy:"hover",priority:9},foodForm:{strategy:"hover",priority:8},orderDetails:{strategy:"viewport",priority:6},salesHistory:{strategy:"interaction",priority:5}}};class ie{constructor(){this.prefetchQueue=new Map,this.isIdle=!1,this.idleTimer=null,this.observer=null,this.hoverElements=new Set,this.initializeIdleDetection(),this.initializeIntersectionObserver(),this.initializeHoverDetection()}initializeIdleDetection(){"requestIdleCallback"in window?this.scheduleIdlePrefetch():this.scheduleFallbackIdle()}scheduleIdlePrefetch(){const t=()=>{this.isIdle&&this.processIdlePrefetch(),this.idleTimer=window.setTimeout(t,1e3)};t()}scheduleFallbackIdle(){let t=Date.now();const r=()=>{const i=Date.now();i-t>2e3&&(this.isIdle=!0,this.processIdlePrefetch()),t=i,this.idleTimer=window.setTimeout(r,1e3)};r()}initializeIntersectionObserver(){"IntersectionObserver"in window&&(this.observer=new IntersectionObserver(t=>{t.forEach(r=>{if(r.isIntersecting){const o=r.target.dataset.prefetch;o&&this.prefetchModule(o,"viewport")}})},{threshold:.1}))}initializeHoverDetection(){document.addEventListener("mouseover",t=>{const r=t.target,i=r.dataset.prefetch;i&&!this.hoverElements.has(r)&&(this.hoverElements.add(r),this.prefetchModule(i,"hover"))})}prefetchModule(t,r){return l(this,null,function*(){try{const i=this.getPrefetchConfig(t);if(!i||i.strategy!==r||this.isModuleCached(t)||(i.delay&&(yield new Promise(o=>setTimeout(o,i.delay))),i.condition&&!i.condition()))return;yield this.executePrefetch(t),console.log(`🚀 Prefetch completado: ${t} (${r})`)}catch(i){console.warn(`⚠️ Prefetch falló para ${t}:`,i)}})}getPrefetchConfig(t){return t in g.screens?g.screens[t]:t in g.features?g.features[t]:null}isModuleCached(t){return!1}executePrefetch(t){return l(this,null,function*(){if(t in g.screens)console.log(`📚 Prefetch de pantalla: ${t}`);else if(t in g.features)try{yield A(t)}catch(r){console.warn(`Error en prefetch de feature ${t}:`,r)}})}processIdlePrefetch(){return l(this,null,function*(){const t=Object.entries(g).flatMap(([r,i])=>Object.entries(i).filter(([o,n])=>n.strategy==="idle").map(([o,n])=>({name:o,config:n,category:r}))).sort((r,i)=>i.config.priority-r.config.priority);for(const{name:r,category:i}of t)this.isIdle&&(yield this.prefetchModule(r,"idle"),yield new Promise(o=>setTimeout(o,50)))})}startInteraction(){this.isIdle=!1}endInteraction(){setTimeout(()=>{this.isIdle=!0},1e3)}observeElement(t,r){this.observer&&(t.dataset.prefetch=r,this.observer.observe(t))}destroy(){this.idleTimer&&clearTimeout(this.idleTimer),this.observer&&this.observer.disconnect(),this.hoverElements.clear()}getStats(){return{isIdle:this.isIdle,observedElements:this.observer?1:0,hoverElements:this.hoverElements.size}}}const p=new ie;function oe(){Object.entries(g).flatMap(([e,t])=>Object.entries(t).filter(([r,i])=>i.strategy==="immediate").map(([r])=>r)).forEach(e=>{p.prefetchModule(e,"immediate")})}function ne(e){({dashboard:["foods","clients"],foods:["dashboard","orderForm"],clients:["dashboard","orderForm"],settings:["dashboard"]}[e]||[]).forEach(i=>{p.prefetchModule(i,"idle")})}let E="dashboard";const O=new Set,I=new Map,se=["dashboard","clients","foods","settings"],y={getScreen(){return E},setScreen(e){return l(this,null,function*(){e!==E&&(p.startInteraction(),I.has(e)||x(e),E=e,ne(e),setTimeout(()=>{p.endInteraction()},500),O.forEach(t=>t(E)))})},subscribe(e){return O.add(e),()=>O.delete(e)},getRenderer(e){return l(this,null,function*(){if(I.has(e))return I.get(e);try{const t=yield re(e),r=t.renderDashboard||t.renderClients||t.renderFoods||t.renderSettings;if(r&&typeof r=="function")return I.set(e,r),r;throw new Error(`Función de renderizado no encontrada para ${e}`)}catch(t){throw console.error(`Error obteniendo renderizador para ${e}:`,t),t}})},preloadAll(){se.forEach(e=>{x(e)})},clearCache(){I.clear()},getCacheStats(){return{renderCacheSize:I.size,renderCacheKeys:Array.from(I.keys())}}},ae="fd_meta_v1",ce="fd_foods_v1",de="fd_orders_v1",le="fd_audit_v1",fe="fd_food_sale_records_v1",v={read(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Storage.read error",t),null}},write(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(r){return console.error("Storage.write failed",r),!1}},keys:{KEY_META:ae,KEY_FOODS:ce,KEY_ORDERS:de,KEY_AUDIT:le,KEY_FOOD_SALE_RECORDS:fe}},F=(e="")=>e+Math.random().toString(36).slice(2,9),V=()=>Date.now(),be=e=>(e||"").toString().trim(),Ie=(e,t=300)=>{let r;return(...i)=>{r&&window.clearTimeout(r),r=window.setTimeout(()=>e(...i),t)}};function Te(e){if(!e||!e.includes(":"))return e;const[t,r]=e.split(":");let i=parseInt(t,10);const o=i>=12?"p.m.":"a.m.";return i=i%12,i=i||12,`${i<10?"0"+i:i.toString()}:${r} ${o}`}const we=e=>{const t=(e||"").toString();let r="";if(t.startsWith("+")){const i=t.substring(1);if(i.startsWith("593")){const o=i.substring(3);if(o.startsWith(" ")){const n=o.substring(1);let a="+593 ",c=0;for(let s=0;s<n.length&&c<9;s++){const u=n[s];/[0-9]/.test(u)&&((c===2||c===5)&&(a+=" "),a+=u,c++)}r=a}else r="+593"+o.replace(/[^0-9]/g,"")}else r="+"+i.replace(/[^0-9]/g,"")}else r=t.replace(/[^0-9]/g,"");return r.startsWith("09")?r.length>10&&(r=r.substring(0,10)):r.startsWith("+593 9")?r.length>16&&(r=r.substring(0,16)):r.startsWith("+593")&&r.length>13&&(r=r.substring(0,13)),r},_e=e=>!!(/^09\d{8}$/.test(e)||/^\+5939\d{8}$/.test(e)||/^\+593 9\d \d{3} \d{4}$/.test(e)),Ae=e=>{if(!e)return"";const t=e.replace(/\s/g,"");return t.startsWith("09")&&t.length===10?`+593${t.substring(1)}`:t.startsWith("+5939")&&t.length===13?t:""},Ee=e=>e?e.toString().replace(/\D/g,""):"",ue={STORAGE_KEYS:{SETTINGS:"fd_meta_v1"},BUSINESS:{CURRENCY:"USD"}},$=v.keys.KEY_FOODS,B=v.keys.KEY_FOOD_SALE_RECORDS,f={getAll(){return v.read(B)||[]},saveAll(e){v.write(B,e)},add(e){const t=m({id:F("record_")},e),r=this.getAll();return r.push(t),this.saveAll(r),t},update(e){const t=this.getAll().map(r=>r.id===e.id?m(m({},r),e):r);this.saveAll(t)},findByFoodId(e){return this.getAll().filter(t=>t.foodId===e).sort((t,r)=>{const i=new Date(r.recordDate).getTime()-new Date(t.recordDate).getTime();return i!==0?i:r.id.localeCompare(t.id)})},findLatestActiveByFoodId(e){return this.findByFoodId(e).find(t=>t.isActive)}},_={getAll(){return v.read($)||[]},saveAll(e){v.write($,e)},add(e,t){return l(this,null,function*(){return new Promise(r=>{setTimeout(()=>{const i=m({id:F("food_"),amountSold:0,createdAt:V(),isActive:!0},e),o=this.getAll();o.push(i),this.saveAll(o);const n=new Date().toISOString().slice(0,10);f.add({foodId:i.id,recordDate:n,startTime:t.startTime,endTime:t.endTime,initialStock:i.stock,unitPrice:i.price,unitCost:i.cost,quantitySoldSingle:0,comboSales:{},isActive:!0}),console.log("Food created",{id:i.id,name:i.name}),r(i)},1e3)})})},update(e,t){return l(this,null,function*(){return new Promise(r=>{setTimeout(()=>{const i=this.findById(e.id);if(!i)return r();const o=new Date().toISOString().slice(0,10),n=f.findLatestActiveByFoodId(e.id),a=Math.abs(e.price-i.price)>.001||Math.abs(e.cost-i.cost)>.001;if(e.isActive&&a)n&&n.recordDate===o&&(n.isActive=!1,f.update(n)),e.amountSold=0,f.add({foodId:e.id,recordDate:o,startTime:(t==null?void 0:t.startTime)||"08:00",endTime:(t==null?void 0:t.endTime)||"23:00",initialStock:e.stock,unitPrice:e.price,unitCost:e.cost,quantitySoldSingle:0,comboSales:{},isActive:!0});else if(e.isActive&&!i.isActive){const s=f.findByFoodId(e.id).find(u=>u.recordDate===o);s&&!a?(s.isActive=!0,e.stock>i.stock&&(s.initialStock+=e.stock-i.stock),t!=null&&t.startTime&&(s.startTime=t.startTime),t!=null&&t.endTime&&(s.endTime=t.endTime),f.update(s)):(e.amountSold=0,f.add({foodId:e.id,recordDate:o,startTime:(t==null?void 0:t.startTime)||"08:00",endTime:(t==null?void 0:t.endTime)||"23:00",initialStock:e.stock,unitPrice:e.price,unitCost:e.cost,quantitySoldSingle:0,comboSales:{},isActive:!0}))}else if(!e.isActive&&i.isActive)n&&(n.isActive=!1,f.update(n));else if(e.isActive&&n){if(e.stock>i.stock){const s=e.stock-i.stock;n.initialStock+=s}t!=null&&t.startTime&&(n.startTime=t.startTime),t!=null&&t.endTime&&(n.endTime=t.endTime),f.update(n)}const c=this.getAll().map(s=>s.id===e.id?m(m({},s),e):s);this.saveAll(c),console.log("Food updated",{id:e.id,name:e.name}),r()},1e3)})})},findById(e){return this.getAll().find(t=>t.id===e)},nameExists(e,t){const r=e.trim().toLowerCase();return this.getAll().some(i=>i.id!==t&&i.name.trim().toLowerCase()===r)},totalProfit(){return f.getAll().reduce((t,r)=>{const i=(r.unitPrice-r.unitCost)*(r.quantitySoldSingle||0),o=Object.values(r.comboSales||{}).reduce((n,a)=>{const c=a.price*a.count,s=r.unitCost*a.quantity*a.count;return n+(c-s)},0);return t+i+o},0)},decreaseStock(e,t){const r=this.getAll(),i=r.findIndex(o=>o.id===e.foodId);if(i>-1){r[i].stock=Math.max(0,r[i].stock-t),r[i].amountSold+=t,this.saveAll(r);const o=f.findLatestActiveByFoodId(e.foodId);if(o){if(e.quantity>0&&(o.quantitySoldSingle=(o.quantitySoldSingle||0)+e.quantity),e.comboId&&e.comboQuantity>0){const a=r[i].combos.find(c=>c.id===e.comboId);a&&(o.comboSales||(o.comboSales={}),o.comboSales[e.comboId]||(o.comboSales[e.comboId]={quantity:a.quantity,price:a.price,count:0}),o.comboSales[e.comboId].count+=e.comboQuantity)}f.update(o)}}},increaseStock(e,t){const r=this.getAll(),i=r.findIndex(o=>o.id===e.foodId);if(i>-1){r[i].stock+=t,r[i].amountSold=Math.max(0,r[i].amountSold-t),this.saveAll(r);const o=f.findLatestActiveByFoodId(e.foodId);o&&(e.quantity>0&&(o.quantitySoldSingle=Math.max(0,(o.quantitySoldSingle||0)-e.quantity)),e.comboId&&e.comboQuantity>0&&o.comboSales&&o.comboSales[e.comboId]&&(o.comboSales[e.comboId].count=Math.max(0,o.comboSales[e.comboId].count-e.comboQuantity)),f.update(o))}}},H=v.keys.KEY_ORDERS,Y={_calculateTotalItems(e){const t=_.findById(e.foodId);if(!t)return e.quantity;let r=e.quantity;if(e.comboId&&e.comboQuantity>0){const i=t.combos.find(o=>o.id===e.comboId);i&&(r+=i.quantity*e.comboQuantity)}return r},_internalGetAll(){return v.read(H)||[]},getReservedStockForFood(e,t){return this._internalGetAll().filter(o=>o.foodId===e&&!o.delivered&&o.id!==t).reduce((o,n)=>o+this._calculateTotalItems(n),0)},getAll(){return this._internalGetAll().filter(e=>e.state!==!1)},saveAll(e){v.write(H,e)},add(e){return l(this,null,function*(){return new Promise(t=>{setTimeout(()=>{const r=_.findById(e.foodId);if(!r)return d.toast("La comida seleccionada no existe."),t(null);const i=f.findLatestActiveByFoodId(e.foodId);if(!i||!i.isActive)return d.toast("La comida no está disponible para la venta en este momento."),t(null);const o=new Date(e.deliveryTime),[n,a]=[o.getHours(),o.getMinutes()],c=n*60+a,[s,u]=i.startTime.split(":").map(Number),b=s*60+u,[K,j]=i.endTime.split(":").map(Number),N=K*60+j;if(c<b||c>N)return d.toast(`Pedido fuera de horario. Disponible de ${i.startTime} a ${i.endTime}.`),t(null);const U=D(m({id:"temp"},e),{createdAt:0,delivered:!1,state:!0,deliveredAt:null}),k=this._calculateTotalItems(U),W=this.getReservedStockForFood(r.id),C=r.stock-W;if(C<k)return d.toast(`Stock insuficiente para '${r.name}'. Solicitado: ${k}, Disponible: ${C}.`,1e4),t(null);const L=m({id:F("order_"),createdAt:V(),delivered:!1,deliveredAt:null,state:!0},e),P=this._internalGetAll();P.push(L),this.saveAll(P),t(L)},500)})})},update(e){return l(this,null,function*(){return new Promise(t=>{setTimeout(()=>{const r=this._internalGetAll(),i=r.find(b=>b.id===e.id);if(!i)return d.toast("El pedido original no se encontró para actualizar."),t(!1);if(i.delivered)return d.toast("No se puede modificar un pedido que ya ha sido entregado."),t(!1);const o=_.findById(e.foodId);if(!o)return d.toast("La comida seleccionada no existe."),t(!1);const n=f.findLatestActiveByFoodId(e.foodId);if(!n||!n.isActive)return d.toast("La comida no está disponible para la venta en este momento."),t(!1);const a=this._calculateTotalItems(e),c=this.getReservedStockForFood(o.id,e.id),s=o.stock-c;if(s<a)return d.toast(`Stock insuficiente para '${o.name}'. Solicitado: ${a}, Disponible: ${s}.`,1e4),t(!1);const u=r.map(b=>b.id===e.id?m(m({},b),e):b);this.saveAll(u),t(!0)},500)})})},updateDeliveryStatus(e,t){return l(this,null,function*(){return new Promise(r=>{setTimeout(()=>{const i=this._internalGetAll(),o=i.findIndex(u=>u.id===e);if(o===-1)return d.toast("Pedido no encontrado."),r(!1);const n=i[o],a=n.delivered;if(a===t)return r(!0);const c=_.findById(n.foodId);if(!c)return d.toast("La comida asociada al pedido ya no existe."),r(!1);const s=this._calculateTotalItems(n);if(t&&!a){if(c.stock<s)return d.toast(`No se puede entregar: Stock físico insuficiente para '${c.name}'. Requerido: ${s}, Físico: ${c.stock}.`,1e4),r(!1);_.decreaseStock(n,s),n.delivered=!0,n.deliveredAt=new Date().toISOString()}else!t&&a&&(_.increaseStock(n,s),n.delivered=!1,n.deliveredAt=null);i[o]=n,this.saveAll(i),r(!0)},500)})})},archiveDeliveredOrders(){const e=this._internalGetAll().map(t=>t.delivered?D(m({},t),{state:!1}):t);this.saveAll(e),d.toast("Pedidos entregados archivados.")},isFoodInActiveOrder(e){return this.getAll().some(t=>t.foodId===e)},getSorted(){const e=this.getAll(),t=e.filter(i=>!i.delivered),r=e.filter(i=>i.delivered);return t.sort((i,o)=>new Date(i.deliveryTime).getTime()-new Date(o.deliveryTime).getTime()),r.sort((i,o)=>{const n=i.deliveredAt?new Date(i.deliveredAt).getTime():0;return(o.deliveredAt?new Date(o.deliveredAt).getTime():0)-n}),[...t,...r]},findById(e){return this.getAll().find(t=>t.id===e)},checkConflict(e,t,r){const i=Math.abs(t)*60*1e3,o=new Date(e).getTime(),n=this.getAll().filter(a=>a.id!==r&&!a.delivered);for(const a of n)if(Math.abs(o-new Date(a.deliveryTime).getTime())<i)return{conflict:!0,other:a};return{conflict:!1}}};window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),d.toast("Ocurrió un error inesperado.")});let w,T=60;function G(){w&&(clearInterval(w),w=void 0);const e=Y.getAll(),t=e.filter(i=>!i.delivered).length,r=e.length-t;t>0?(d.updateHeaderContent(`<div class="pulse-animation bg-red-500 text-white text-base font-bold w-8 h-8 flex items-center justify-center rounded-full">${t}</div>`),T=60):r>0?me():(d.updateHeaderContent(""),T=60)}function me(){const e=()=>{const r='<button id="archive-btn" title="Archivar pedidos entregados" class="bg-red-500 text-white w-10 h-10 flex items-center justify-center rounded-full hover:bg-red-600"><i class="fa fa-trash-can fa-lg"></i></button>';if(y.getScreen()==="clients"){d.updateHeaderContent(r);const i=document.getElementById("archive-btn");i&&i.addEventListener("click",()=>{d.confirm("¿Deseas archivar todos los pedidos ya entregados?",()=>{Y.archiveDeliveredOrders(),document.dispatchEvent(new CustomEvent("refreshViews")),G()})})}else d.updateHeaderContent("")},t=()=>{const r=Math.floor(T/60),i=T%60,o=`<div class="bg-gray-400 text-white text-sm font-mono w-12 h-8 flex items-center justify-center rounded-lg">${r}:${i.toString().padStart(2,"0")}</div>`;y.getScreen()==="clients"?d.updateHeaderContent(o):d.updateHeaderContent("")};if(T<=0){e();return}t(),w=window.setInterval(()=>{T--,T<=0?(w&&(clearInterval(w),w=void 0),e()):t()},1e3)}function q(){return l(this,null,function*(){const e=y.getScreen();d.updateTitle(e),d.renderNavActive(e),G();const t=document.getElementById("mainArea");t.innerHTML="",t.innerHTML='<div class="flex items-center justify-center h-32"><div class="spinner"></div></div>';try{const r=yield y.getRenderer(e);t.innerHTML="";const i=document.createElement("div");t.appendChild(i),r(i)}catch(r){console.error("Error renderizando pantalla:",r),t.innerHTML=`
			<div class="flex flex-col items-center justify-center h-32 text-red-500">
				<i class="fa fa-exclamation-triangle fa-2x mb-2"></i>
				<p>Error cargando la pantalla</p>
				<button onclick="location.reload()" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded">
					Recargar
				</button>
			</div>
		`}})}function he(){const e=localStorage.getItem(ue.STORAGE_KEYS.SETTINGS)||"{}";let t={};try{t=JSON.parse(e)||{}}catch(r){t={}}t.darkMode&&document.documentElement.classList.add("dark")}function ve(){he(),d.renderShell(),document.querySelectorAll("#bottomNav .nav-item").forEach(t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",r=>l(null,null,function*(){const i=r.currentTarget.dataset.screen;if(i){const o=r.currentTarget,n=o.innerHTML;o.innerHTML='<i class="fa fa-spinner fa-spin"></i>',o.setAttribute("disabled","true");try{yield y.setScreen(i)}finally{o.innerHTML=n,o.removeAttribute("disabled")}}}))});const e=document.getElementById("scrollToTopBtn");e&&(window.addEventListener("scroll",()=>{const t=y.getScreen();window.scrollY>200&&(t==="clients"||t==="foods")?e.classList.remove("opacity-0","pointer-events-none","translate-y-4"):e.classList.add("opacity-0","pointer-events-none","translate-y-4")},{passive:!0}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})),document.addEventListener("openOrderForm",t=>l(null,null,function*(){var i;const r=(i=t.detail)==null?void 0:i.id;try{const{openOrderForm:o}=yield A("orderForm");o(r)}catch(o){console.error("Error abriendo formulario de pedido:",o)}})),document.addEventListener("openFoodForm",t=>l(null,null,function*(){var i;const r=(i=t.detail)==null?void 0:i.id;try{const{openFoodForm:o}=yield A("foodForm");o(r)}catch(o){console.error("Error abriendo formulario de comida:",o)}})),document.addEventListener("openSalesHistory",t=>l(null,null,function*(){var i;const r=(i=t.detail)==null?void 0:i.foodId;if(r)try{const{openSalesHistoryModal:o}=yield A("salesHistory");o(r)}catch(o){console.error("Error abriendo historial de ventas:",o)}})),document.addEventListener("openOrderDetails",t=>l(null,null,function*(){var i;const r=(i=t.detail)==null?void 0:i.id;if(r)try{const{showOrderDetails:o}=yield A("orderDetails");o(r,()=>document.dispatchEvent(new CustomEvent("refreshViews")))}catch(o){console.error("Error abriendo detalles del pedido:",o)}})),document.addEventListener("openCallModal",t=>l(null,null,function*(){var i;const r=(i=t.detail)==null?void 0:i.phone;if(r)try{const{showCallModal:o}=yield A("callModal");o(r)}catch(o){console.error("Error abriendo modal de llamada:",o)}})),y.preloadAll(),oe(),y.subscribe(()=>q()),q()}ve();typeof window!="undefined"&&h(()=>l(null,null,function*(){const{initializeBundleMonitoring:e}=yield import("./utils-OsXyF5Oc.js").then(t=>t.b);return{initializeBundleMonitoring:e}}),[]).then(({initializeBundleMonitoring:e})=>{e()}).catch(console.error);export{ue as C,_ as F,Y as O,f as a,we as b,Ie as d,Te as f,Ee as g,_e as i,be as n,Ae as t,G as u};
